#!/usr/local/bin/ksh93

#TODO: A better approach to identifying the active network device could be
#      useful. This is a bit better than just hardcoding, but not by a ton.

wifi_status="$(ifconfig iwn0 | awk '/status:/ {print $2}')"

if [[ $wifi_status == "active" ]]; then
    wicon="^C6^直 "
else
    wicon="^C3^睊 " 
fi

ether_status="$(ifconfig em0 | awk '/status:/ {print $2}')"

if [[ $ether_status == "active" ]]; then
    eicon="^C6^ "
else
    eicon="^C3^ " 
fi

if ifconfig tun0 > /dev/null; then
    vpnicon="^C6^歷"
else
    vpnicon="^C3^轢"
fi

printf "%s %s %s \n" "$wicon" "$eicon" "$vpnicon"
