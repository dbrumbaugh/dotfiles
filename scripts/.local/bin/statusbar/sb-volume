#!/usr/local/bin/ksh93
volume=$(sndioctl -n output.level)
volume=$((volume*100))

if [ $(sndioctl -n output.mute) = "1" ]; then
    symbol="^C1^ﱝ"
elif [ "$volume" -ge "70" ]; then
    symbol="^C10^墳"
elif [ "$volume" -gt "0" ]; then
    symbol="^C10^奔"
else
    symbol="^C3^婢"
fi


microphone="$(sndioctl -n input.level)"
microphone=$((microphone*100))
if [[ $(sndioctl -n input.mute) = "1" ]]; then
    msymbol="^C1^ "
else
    msymbol="^C10^"
fi

if (( volume >= 100 )); then
    printf "%s%4d %s%3d\n" $symbol $volume $msymbol $microphone
else
    printf "%s%3d %s%3d\n" $symbol $volume $msymbol $microphone
fi
